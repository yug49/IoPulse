{"ast":null,"code":"var _jsxFileName = \"/Users/shubhtastic/Documents/ionet/IoPulse/frontend/src/components/StrategyDetailView.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { ArrowLeft, Play, Clock, CheckCircle, AlertCircle, Coins, TrendingUp, DollarSign, Activity, Target, Zap } from \"lucide-react\";\nimport HistoryTab from \"./HistoryTab\";\nimport { historyAPI } from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"http://localhost:5001\";\nconst StrategyDetailView = ({\n  strategy,\n  onBack,\n  onRequestRecommendation,\n  addNotification\n}) => {\n  _s();\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [history, setHistory] = useState([]);\n  const [historyLoading, setHistoryLoading] = useState(false);\n  const [historyPage, setHistoryPage] = useState(1);\n  const [hasMoreHistory, setHasMoreHistory] = useState(true);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [processSteps, setProcessSteps] = useState([{\n    id: 1,\n    name: \"Analysis Agent (Llama-3.3-70B-Instruct)\",\n    status: \"pending\",\n    description: \"Comprehensive cryptocurrency market analysis and opportunity identification\",\n    timestamp: null\n  }, {\n    id: 2,\n    name: \"Decision Agent (Llama-3.3-70B-Instruct)\",\n    status: \"pending\",\n    description: \"Final investment decision and recommendation generation\",\n    timestamp: null\n  }]);\n  const [agentOutputs, setAgentOutputs] = useState([{\n    id: 1,\n    name: \"Analysis Agent (Llama-3.3-70B-Instruct)\",\n    status: \"pending\",\n    output: \"\",\n    timestamp: null\n  }, {\n    id: 2,\n    name: \"Decision Agent (Llama-3.3-70B-Instruct)\",\n    status: \"pending\",\n    output: \"\",\n    timestamp: null\n  }]);\n  const [finalRecommendation, setFinalRecommendation] = useState(null);\n\n  // Load strategy history\n  const loadHistory = async (page = 1, reset = false) => {\n    try {\n      setHistoryLoading(true);\n      const response = await historyAPI.getStrategyHistory(strategy._id || strategy.id, page, 20 // limit\n      );\n      if (response.success) {\n        if (reset) {\n          setHistory(response.data);\n        } else {\n          setHistory(prev => [...prev, ...response.data]);\n        }\n        setHasMoreHistory(response.pagination.currentPage < response.pagination.totalPages);\n        setHistoryPage(page);\n      }\n    } catch (error) {\n      console.error(\"Error loading history:\", error);\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n\n  // Load more history entries\n  const loadMoreHistory = () => {\n    if (!historyLoading && hasMoreHistory) {\n      loadHistory(historyPage + 1, false);\n    }\n  };\n\n  // Load history when tab changes to history\n  React.useEffect(() => {\n    if (activeTab === \"history\" && history.length === 0) {\n      loadHistory(1, true);\n    }\n  }, [activeTab]);\n  const handleRequestRecommendation = async () => {\n    setIsProcessing(true);\n    setFinalRecommendation(null);\n    setError(null);\n\n    // Reset all agents to pending\n    setProcessSteps(prev => prev.map(step => ({\n      ...step,\n      status: \"pending\"\n    })));\n    setAgentOutputs(prev => prev.map(agent => ({\n      ...agent,\n      status: \"pending\",\n      output: \"\",\n      timestamp: null\n    })));\n    try {\n      // Create EventSource for real-time updates with token in query params\n      const token = localStorage.getItem(\"token\");\n      const eventSource = new EventSource(`${API_BASE_URL}/api/ai-recommendations/${strategy._id || strategy.id}/request-stream?token=${encodeURIComponent(token)}`);\n      eventSource.onmessage = event => {\n        const data = JSON.parse(event.data);\n        switch (data.type) {\n          case \"init\":\n            console.log(\"Workflow initialized:\", data.message);\n            break;\n          case \"workflow_start\":\n            console.log(\"Workflow starting:\", data.message);\n            break;\n          case \"step_start\":\n            console.log(`Step ${data.step} starting: ${data.message}`);\n            // Find and update the specific agent that's starting\n            setProcessSteps(prev => prev.map((step, index) => {\n              if (index + 1 === data.step) {\n                return {\n                  ...step,\n                  status: \"processing\",\n                  timestamp: data.timestamp\n                };\n              }\n              return step;\n            }));\n            setAgentOutputs(prev => prev.map((agent, index) => {\n              if (index + 1 === data.step) {\n                return {\n                  ...agent,\n                  status: \"processing\",\n                  output: `🔄 ${data.message}\\n\\nStarted at: ${new Date(data.timestamp).toLocaleTimeString()}`,\n                  timestamp: data.timestamp\n                };\n              }\n              return agent;\n            }));\n            break;\n          case \"step_complete\":\n            console.log(`Step ${data.step} completed: ${data.message}`);\n            // Update the completed agent\n            setProcessSteps(prev => prev.map((step, index) => {\n              if (index + 1 === data.step) {\n                return {\n                  ...step,\n                  status: \"completed\",\n                  timestamp: data.timestamp\n                };\n              }\n              return step;\n            }));\n            setAgentOutputs(prev => prev.map((agent, index) => {\n              if (index + 1 === data.step) {\n                // Create detailed output based on step\n                let detailedOutput = `✅ ${data.message}\\n\\nExecution time: ${data.stepTime}ms\\nCompleted at: ${new Date(data.timestamp).toLocaleTimeString()}`;\n                if (data.step === 1) {\n                  detailedOutput += `\\n\\n🔍 Analysis Agent Tasks Completed:\n• Market overview and trend analysis\n• Current holding performance evaluation  \n• Alternative cryptocurrency identification\n• Quantitative and qualitative scoring\n• Risk assessment and market conditions`;\n                } else if (data.step === 2) {\n                  detailedOutput += `\\n\\n🏛️ Decision Agent Tasks Completed:\n• Investment decision synthesis\n• Portfolio optimization analysis\n• Risk-reward evaluation\n• Final recommendation generation`;\n                }\n                return {\n                  ...agent,\n                  status: \"completed\",\n                  output: detailedOutput,\n                  timestamp: data.timestamp\n                };\n              }\n              return agent;\n            }));\n            break;\n          case \"workflow_complete\":\n            console.log(\"Workflow completed:\", data);\n            // Handle final completion\n            const finalRec = data.recommendation;\n\n            // Update final recommendation\n            setFinalRecommendation({\n              action: finalRec.recommendation.toLowerCase().includes(\"don't swap\") ? \"HOLD\" : finalRec.recommendation.toLowerCase().includes(\"swap\") ? \"SWAP\" : \"HOLD\",\n              confidence: null,\n              // No confidence available from real AI analysis\n              summary: finalRec.explanation,\n              timestamp: data.timestamp,\n              executionTime: data.totalTime,\n              agentsUsed: 2,\n              // Simplified workflow uses 2 agents\n              fullRecommendation: finalRec.recommendation\n            });\n\n            // Update the final agent with real output\n            setAgentOutputs(prev => prev.map((agent, index) => {\n              if (index === 1) {\n                // Decision agent is index 1\n                return {\n                  ...agent,\n                  status: \"completed\",\n                  output: `🏛️ Decision Agent Final Analysis:\n\n📊 Final Recommendation: ${finalRec.recommendation}\n\n💡 Investment Decision Summary:\n${finalRec.explanation}\n\n⏱️ Total analysis completed in ${data.totalTime}ms using 2 AI agents.\n🤖 Powered by Llama-3.3-70B-Instruct models`\n                };\n              }\n              return agent;\n            }));\n            addNotification(`New recommendation generated for ${strategy.name}`, \"success\");\n            setIsProcessing(false);\n            eventSource.close();\n            break;\n          case \"workflow_error\":\n            console.error(\"Workflow error:\", data);\n            setError(data.message);\n\n            // Mark all processing agents as failed\n            setProcessSteps(prev => prev.map(step => ({\n              ...step,\n              status: step.status === \"processing\" ? \"error\" : step.status\n            })));\n            setAgentOutputs(prev => prev.map(agent => ({\n              ...agent,\n              status: agent.status === \"processing\" ? \"error\" : agent.status,\n              output: agent.status === \"processing\" ? `❌ Agent Error: ${data.message}\n\n🚨 The simplified 2-agent AI workflow encountered an issue.\n\nThis streamlined system uses:\n• Analysis Agent (Llama-3.3-70B-Instruct) - Market analysis\n• Decision Agent (Llama-3.3-70B-Instruct) - Investment decisions\n\nNo external data sources or mock data are used - the system relies entirely on AI model knowledge.` : agent.output\n            })));\n            addNotification(\"Workflow failed due to an error\", \"error\");\n            setIsProcessing(false);\n            eventSource.close();\n            break;\n          default:\n            console.log(\"Unknown event type:\", data.type);\n            break;\n        }\n      };\n      eventSource.onerror = error => {\n        console.error(\"EventSource error:\", error);\n        eventSource.close();\n        setIsProcessing(false);\n        setError(\"Connection to server lost. Please try again.\");\n\n        // Mark all processing agents as failed\n        setProcessSteps(prev => prev.map(step => ({\n          ...step,\n          status: step.status === \"processing\" ? \"connectivity_error\" : step.status\n        })));\n        setAgentOutputs(prev => prev.map(agent => ({\n          ...agent,\n          status: agent.status === \"processing\" ? \"connectivity_error\" : agent.status,\n          output: agent.status === \"processing\" ? \"🌐 Connection lost during processing\" : agent.output\n        })));\n      };\n    } catch (error) {\n      console.error(\"Error setting up real-time connection:\", error);\n      setError(\"Failed to connect to AI service\");\n      setIsProcessing(false);\n    }\n\n    // Call the parent callback if provided\n    if (onRequestRecommendation) {\n      onRequestRecommendation(strategy);\n    }\n  };\n\n  // The rest of the component continues with the same UI rendering logic...\n  // (I'll continue in the next part to avoid making this too long)\n\n  const getStepIcon = status => {\n    switch (status) {\n      case \"pending\":\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"w-5 h-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 24\n        }, this);\n      case \"processing\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 21\n        }, this);\n      case \"completed\":\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-5 h-5 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 24\n        }, this);\n      case \"error\":\n      case \"connectivity_error\":\n        return /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"w-5 h-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  const getStepColor = status => {\n    switch (status) {\n      case \"pending\":\n        return \"text-gray-600\";\n      case \"processing\":\n        return \"text-blue-600\";\n      case \"completed\":\n        return \"text-green-600\";\n      case \"error\":\n      case \"connectivity_error\":\n        return \"text-red-600\";\n      default:\n        return \"text-gray-600\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBack,\n          className: \"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Back to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(Target, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"2-Agent AI System\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900 mb-2\",\n            children: strategy.title || strategy.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: strategy.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-6 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Coins, {\n                className: \"w-4 h-4 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: strategy.coin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"w-4 h-4 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [\"$\", strategy.currentAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRequestRecommendation,\n          disabled: isProcessing,\n          className: `\n                            px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2\n                            ${isProcessing ? \"bg-gray-100 text-gray-400 cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg\"}\n                        `,\n          children: isProcessing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Processing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Play, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Get AI Recommendation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex space-x-8\",\n        children: [{\n          id: \"overview\",\n          label: \"Overview\",\n          icon: Activity\n        }, {\n          id: \"agents\",\n          label: \"AI Agent Flow\",\n          icon: Zap\n        }, {\n          id: \"output\",\n          label: \"Agent Outputs\",\n          icon: Target\n        }, {\n          id: \"history\",\n          label: \"History\",\n          icon: Clock\n        }].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(tab.id),\n          className: `\n                                py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2\n                                ${activeTab === tab.id ? \"border-blue-500 text-blue-600\" : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"}\n                            `,\n          children: [/*#__PURE__*/_jsxDEV(tab.icon, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: tab.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 29\n          }, this)]\n        }, tab.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [activeTab === \"overview\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm border p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4\",\n            children: \"Strategy Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Current Holding:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: strategy.coin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [\"$\", strategy.currentAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: new Date(strategy.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm border p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4\",\n            children: \"AI System Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-blue-500 rounded-full mt-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: \"Analysis Agent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Comprehensive market analysis and opportunity identification\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-green-500 rounded-full mt-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: \"Decision Agent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Final investment decision and recommendation generation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-blue-50 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Model:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 37\n              }, this), \" Llama-3.3-70B-Instruct\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Data Source:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 37\n              }, this), \" AI Model Knowledge (No external APIs)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 25\n        }, this), finalRecommendation && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 bg-white rounded-lg shadow-sm border p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4\",\n            children: \"Latest AI Recommendation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `\n                                                px-3 py-1 rounded-full text-sm font-medium\n                                                ${finalRecommendation.action === \"SWAP\" ? \"bg-orange-100 text-orange-700\" : \"bg-green-100 text-green-700\"}\n                                            `,\n                children: finalRecommendation.action\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500 text-sm\",\n                children: new Date(finalRecommendation.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-gray-900 mb-2\",\n                children: finalRecommendation.fullRecommendation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700\",\n                children: finalRecommendation.summary\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Execution time: \", finalRecommendation.executionTime, \"ms\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Agents used: \", finalRecommendation.agentsUsed]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 21\n      }, this), activeTab === \"agents\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-6\",\n          children: \"Simplified 2-Agent AI Workflow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"w-5 h-5 text-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-700 font-medium\",\n              children: \"Error\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-600 mt-1\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: processSteps.map((step, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: getStepIcon(step.status)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-grow\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `font-medium ${getStepColor(step.status)}`,\n                children: step.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-600 text-sm mt-1\",\n                children: step.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 41\n              }, this), step.timestamp && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-500 text-xs mt-1\",\n                children: [step.status === \"processing\" ? \"Started\" : \"Completed\", \" at:\", \" \", new Date(step.timestamp).toLocaleTimeString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 37\n            }, this), index < processSteps.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute left-7 mt-8 w-px h-6 bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 41\n            }, this)]\n          }, step.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 25\n        }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex items-center justify-center p-4 bg-blue-50 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-700 font-medium\",\n              children: \"AI workflow in progress...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 21\n      }, this), activeTab === \"output\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: agentOutputs.map(agent => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [getStepIcon(agent.status), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: `font-medium ${getStepColor(agent.status)}`,\n                  children: agent.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 41\n              }, this), agent.timestamp && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: new Date(agent.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: agent.output ? /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"whitespace-pre-wrap text-sm text-gray-700 font-mono\",\n              children: agent.output\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500 italic\",\n              children: \"No output yet. Run the AI workflow to see results.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 33\n          }, this)]\n        }, agent.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 21\n      }, this), activeTab === \"history\" && /*#__PURE__*/_jsxDEV(HistoryTab, {\n        history: history,\n        loading: historyLoading,\n        hasMore: hasMoreHistory,\n        onLoadMore: loadMoreHistory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 425,\n    columnNumber: 9\n  }, this);\n};\n_s(StrategyDetailView, \"FZtd7v10TmWVQUGiOt5gpUDKlDM=\");\n_c = StrategyDetailView;\nexport default StrategyDetailView;\nvar _c;\n$RefreshReg$(_c, \"StrategyDetailView\");","map":{"version":3,"names":["React","useState","ArrowLeft","Play","Clock","CheckCircle","AlertCircle","Coins","TrendingUp","DollarSign","Activity","Target","Zap","HistoryTab","historyAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","StrategyDetailView","strategy","onBack","onRequestRecommendation","addNotification","_s","activeTab","setActiveTab","history","setHistory","historyLoading","setHistoryLoading","historyPage","setHistoryPage","hasMoreHistory","setHasMoreHistory","isProcessing","setIsProcessing","error","setError","processSteps","setProcessSteps","id","name","status","description","timestamp","agentOutputs","setAgentOutputs","output","finalRecommendation","setFinalRecommendation","loadHistory","page","reset","response","getStrategyHistory","_id","success","data","prev","pagination","currentPage","totalPages","console","loadMoreHistory","useEffect","length","handleRequestRecommendation","map","step","agent","token","localStorage","getItem","eventSource","EventSource","encodeURIComponent","onmessage","event","JSON","parse","type","log","message","index","Date","toLocaleTimeString","detailedOutput","stepTime","finalRec","recommendation","action","toLowerCase","includes","confidence","summary","explanation","executionTime","totalTime","agentsUsed","fullRecommendation","close","onerror","getStepIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getStepColor","children","onClick","title","coin","currentAmount","disabled","label","icon","tab","createdAt","toLocaleDateString","toLocaleString","loading","hasMore","onLoadMore","_c","$RefreshReg$"],"sources":["/Users/shubhtastic/Documents/ionet/IoPulse/frontend/src/components/StrategyDetailView.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n    ArrowLeft,\n    Play,\n    Clock,\n    CheckCircle,\n    AlertCircle,\n    Coins,\n    TrendingUp,\n    DollarSign,\n    Activity,\n    Target,\n    Zap,\n} from \"lucide-react\";\nimport HistoryTab from \"./HistoryTab\";\nimport { historyAPI } from \"../services/api\";\n\nconst API_BASE_URL = \"http://localhost:5001\";\n\nconst StrategyDetailView = ({\n    strategy,\n    onBack,\n    onRequestRecommendation,\n    addNotification,\n}) => {\n    const [activeTab, setActiveTab] = useState(\"overview\");\n    const [history, setHistory] = useState([]);\n    const [historyLoading, setHistoryLoading] = useState(false);\n    const [historyPage, setHistoryPage] = useState(1);\n    const [hasMoreHistory, setHasMoreHistory] = useState(true);\n\n    const [isProcessing, setIsProcessing] = useState(false);\n    const [error, setError] = useState(null);\n    const [processSteps, setProcessSteps] = useState([\n        {\n            id: 1,\n            name: \"Analysis Agent (Llama-3.3-70B-Instruct)\",\n            status: \"pending\",\n            description:\n                \"Comprehensive cryptocurrency market analysis and opportunity identification\",\n            timestamp: null,\n        },\n        {\n            id: 2,\n            name: \"Decision Agent (Llama-3.3-70B-Instruct)\",\n            status: \"pending\",\n            description: \"Final investment decision and recommendation generation\",\n            timestamp: null,\n        },\n    ]);\n\n    const [agentOutputs, setAgentOutputs] = useState([\n        {\n            id: 1,\n            name: \"Analysis Agent (Llama-3.3-70B-Instruct)\",\n            status: \"pending\",\n            output: \"\",\n            timestamp: null,\n        },\n        {\n            id: 2,\n            name: \"Decision Agent (Llama-3.3-70B-Instruct)\",\n            status: \"pending\",\n            output: \"\",\n            timestamp: null,\n        },\n    ]);\n\n    const [finalRecommendation, setFinalRecommendation] = useState(null);\n\n    // Load strategy history\n    const loadHistory = async (page = 1, reset = false) => {\n        try {\n            setHistoryLoading(true);\n            const response = await historyAPI.getStrategyHistory(\n                strategy._id || strategy.id,\n                page,\n                20 // limit\n            );\n\n            if (response.success) {\n                if (reset) {\n                    setHistory(response.data);\n                } else {\n                    setHistory((prev) => [...prev, ...response.data]);\n                }\n\n                setHasMoreHistory(\n                    response.pagination.currentPage <\n                        response.pagination.totalPages\n                );\n                setHistoryPage(page);\n            }\n        } catch (error) {\n            console.error(\"Error loading history:\", error);\n        } finally {\n            setHistoryLoading(false);\n        }\n    };\n\n    // Load more history entries\n    const loadMoreHistory = () => {\n        if (!historyLoading && hasMoreHistory) {\n            loadHistory(historyPage + 1, false);\n        }\n    };\n\n    // Load history when tab changes to history\n    React.useEffect(() => {\n        if (activeTab === \"history\" && history.length === 0) {\n            loadHistory(1, true);\n        }\n    }, [activeTab]);\n\n    const handleRequestRecommendation = async () => {\n        setIsProcessing(true);\n        setFinalRecommendation(null);\n        setError(null);\n\n        // Reset all agents to pending\n        setProcessSteps((prev) =>\n            prev.map((step) => ({\n                ...step,\n                status: \"pending\",\n            }))\n        );\n\n        setAgentOutputs((prev) =>\n            prev.map((agent) => ({\n                ...agent,\n                status: \"pending\",\n                output: \"\",\n                timestamp: null,\n            }))\n        );\n\n        try {\n            // Create EventSource for real-time updates with token in query params\n            const token = localStorage.getItem(\"token\");\n            const eventSource = new EventSource(\n                `${API_BASE_URL}/api/ai-recommendations/${\n                    strategy._id || strategy.id\n                }/request-stream?token=${encodeURIComponent(token)}`\n            );\n\n            eventSource.onmessage = (event) => {\n                const data = JSON.parse(event.data);\n\n                switch (data.type) {\n                    case \"init\":\n                        console.log(\"Workflow initialized:\", data.message);\n                        break;\n\n                    case \"workflow_start\":\n                        console.log(\"Workflow starting:\", data.message);\n                        break;\n\n                    case \"step_start\":\n                        console.log(`Step ${data.step} starting: ${data.message}`);\n                        // Find and update the specific agent that's starting\n                        setProcessSteps((prev) =>\n                            prev.map((step, index) => {\n                                if (index + 1 === data.step) {\n                                    return {\n                                        ...step,\n                                        status: \"processing\",\n                                        timestamp: data.timestamp,\n                                    };\n                                }\n                                return step;\n                            })\n                        );\n\n                        setAgentOutputs((prev) =>\n                            prev.map((agent, index) => {\n                                if (index + 1 === data.step) {\n                                    return {\n                                        ...agent,\n                                        status: \"processing\",\n                                        output: `🔄 ${data.message}\\n\\nStarted at: ${new Date(data.timestamp).toLocaleTimeString()}`,\n                                        timestamp: data.timestamp,\n                                    };\n                                }\n                                return agent;\n                            })\n                        );\n                        break;\n\n                    case \"step_complete\":\n                        console.log(`Step ${data.step} completed: ${data.message}`);\n                        // Update the completed agent\n                        setProcessSteps((prev) =>\n                            prev.map((step, index) => {\n                                if (index + 1 === data.step) {\n                                    return {\n                                        ...step,\n                                        status: \"completed\",\n                                        timestamp: data.timestamp,\n                                    };\n                                }\n                                return step;\n                            })\n                        );\n\n                        setAgentOutputs((prev) =>\n                            prev.map((agent, index) => {\n                                if (index + 1 === data.step) {\n                                    // Create detailed output based on step\n                                    let detailedOutput = `✅ ${data.message}\\n\\nExecution time: ${data.stepTime}ms\\nCompleted at: ${new Date(data.timestamp).toLocaleTimeString()}`;\n\n                                    if (data.step === 1) {\n                                        detailedOutput += `\\n\\n🔍 Analysis Agent Tasks Completed:\n• Market overview and trend analysis\n• Current holding performance evaluation  \n• Alternative cryptocurrency identification\n• Quantitative and qualitative scoring\n• Risk assessment and market conditions`;\n                                    } else if (data.step === 2) {\n                                        detailedOutput += `\\n\\n🏛️ Decision Agent Tasks Completed:\n• Investment decision synthesis\n• Portfolio optimization analysis\n• Risk-reward evaluation\n• Final recommendation generation`;\n                                    }\n\n                                    return {\n                                        ...agent,\n                                        status: \"completed\",\n                                        output: detailedOutput,\n                                        timestamp: data.timestamp,\n                                    };\n                                }\n                                return agent;\n                            })\n                        );\n                        break;\n\n                    case \"workflow_complete\":\n                        console.log(\"Workflow completed:\", data);\n                        // Handle final completion\n                        const finalRec = data.recommendation;\n\n                        // Update final recommendation\n                        setFinalRecommendation({\n                            action: finalRec.recommendation\n                                .toLowerCase()\n                                .includes(\"don't swap\")\n                                ? \"HOLD\"\n                                : finalRec.recommendation\n                                      .toLowerCase()\n                                      .includes(\"swap\")\n                                ? \"SWAP\"\n                                : \"HOLD\",\n                            confidence: null, // No confidence available from real AI analysis\n                            summary: finalRec.explanation,\n                            timestamp: data.timestamp,\n                            executionTime: data.totalTime,\n                            agentsUsed: 2, // Simplified workflow uses 2 agents\n                            fullRecommendation: finalRec.recommendation,\n                        });\n\n                        // Update the final agent with real output\n                        setAgentOutputs((prev) =>\n                            prev.map((agent, index) => {\n                                if (index === 1) { // Decision agent is index 1\n                                    return {\n                                        ...agent,\n                                        status: \"completed\",\n                                        output: `🏛️ Decision Agent Final Analysis:\n\n📊 Final Recommendation: ${finalRec.recommendation}\n\n💡 Investment Decision Summary:\n${finalRec.explanation}\n\n⏱️ Total analysis completed in ${data.totalTime}ms using 2 AI agents.\n🤖 Powered by Llama-3.3-70B-Instruct models`,\n                                    };\n                                }\n                                return agent;\n                            })\n                        );\n\n                        addNotification(\n                            `New recommendation generated for ${strategy.name}`,\n                            \"success\"\n                        );\n                        setIsProcessing(false);\n                        eventSource.close();\n                        break;\n\n                    case \"workflow_error\":\n                        console.error(\"Workflow error:\", data);\n                        setError(data.message);\n\n                        // Mark all processing agents as failed\n                        setProcessSteps((prev) =>\n                            prev.map((step) => ({\n                                ...step,\n                                status:\n                                    step.status === \"processing\"\n                                        ? \"error\"\n                                        : step.status,\n                            }))\n                        );\n\n                        setAgentOutputs((prev) =>\n                            prev.map((agent) => ({\n                                ...agent,\n                                status:\n                                    agent.status === \"processing\"\n                                        ? \"error\"\n                                        : agent.status,\n                                output:\n                                    agent.status === \"processing\"\n                                        ? `❌ Agent Error: ${data.message}\n\n🚨 The simplified 2-agent AI workflow encountered an issue.\n\nThis streamlined system uses:\n• Analysis Agent (Llama-3.3-70B-Instruct) - Market analysis\n• Decision Agent (Llama-3.3-70B-Instruct) - Investment decisions\n\nNo external data sources or mock data are used - the system relies entirely on AI model knowledge.`\n                                        : agent.output,\n                            }))\n                        );\n\n                        addNotification(\n                            \"Workflow failed due to an error\",\n                            \"error\"\n                        );\n\n                        setIsProcessing(false);\n                        eventSource.close();\n                        break;\n\n                    default:\n                        console.log(\"Unknown event type:\", data.type);\n                        break;\n                }\n            };\n\n            eventSource.onerror = (error) => {\n                console.error(\"EventSource error:\", error);\n                eventSource.close();\n                setIsProcessing(false);\n                setError(\"Connection to server lost. Please try again.\");\n\n                // Mark all processing agents as failed\n                setProcessSteps((prev) =>\n                    prev.map((step) => ({\n                        ...step,\n                        status:\n                            step.status === \"processing\"\n                                ? \"connectivity_error\"\n                                : step.status,\n                    }))\n                );\n\n                setAgentOutputs((prev) =>\n                    prev.map((agent) => ({\n                        ...agent,\n                        status:\n                            agent.status === \"processing\"\n                                ? \"connectivity_error\"\n                                : agent.status,\n                        output:\n                            agent.status === \"processing\"\n                                ? \"🌐 Connection lost during processing\"\n                                : agent.output,\n                    }))\n                );\n            };\n        } catch (error) {\n            console.error(\"Error setting up real-time connection:\", error);\n            setError(\"Failed to connect to AI service\");\n            setIsProcessing(false);\n        }\n\n        // Call the parent callback if provided\n        if (onRequestRecommendation) {\n            onRequestRecommendation(strategy);\n        }\n    };\n\n    // The rest of the component continues with the same UI rendering logic...\n    // (I'll continue in the next part to avoid making this too long)\n\n    const getStepIcon = (status) => {\n        switch (status) {\n            case \"pending\":\n                return <Clock className=\"w-5 h-5 text-gray-500\" />;\n            case \"processing\":\n                return (\n                    <div className=\"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n                );\n            case \"completed\":\n                return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n            case \"error\":\n            case \"connectivity_error\":\n                return <AlertCircle className=\"w-5 h-5 text-red-500\" />;\n            default:\n                return <Clock className=\"w-5 h-5 text-gray-500\" />;\n        }\n    };\n\n    const getStepColor = (status) => {\n        switch (status) {\n            case \"pending\":\n                return \"text-gray-600\";\n            case \"processing\":\n                return \"text-blue-600\";\n            case \"completed\":\n                return \"text-green-600\";\n            case \"error\":\n            case \"connectivity_error\":\n                return \"text-red-600\";\n            default:\n                return \"text-gray-600\";\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                    <button\n                        onClick={onBack}\n                        className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors\"\n                    >\n                        <ArrowLeft className=\"w-5 h-5\" />\n                        <span>Back to Dashboard</span>\n                    </button>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                    <div className=\"flex items-center space-x-1 text-sm text-gray-600\">\n                        <Target className=\"w-4 h-4\" />\n                        <span>2-Agent AI System</span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Strategy Title */}\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                <div className=\"flex items-start justify-between\">\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                            {strategy.title || strategy.name}\n                        </h1>\n                        <p className=\"text-gray-600 mb-4\">\n                            {strategy.description}\n                        </p>\n                        <div className=\"flex items-center space-x-6 text-sm\">\n                            <div className=\"flex items-center space-x-2\">\n                                <Coins className=\"w-4 h-4 text-blue-500\" />\n                                <span className=\"font-medium\">\n                                    {strategy.coin}\n                                </span>\n                            </div>\n                            <div className=\"flex items-center space-x-2\">\n                                <DollarSign className=\"w-4 h-4 text-green-500\" />\n                                <span className=\"font-medium\">\n                                    ${strategy.currentAmount}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <button\n                        onClick={handleRequestRecommendation}\n                        disabled={isProcessing}\n                        className={`\n                            px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2\n                            ${\n                                isProcessing\n                                    ? \"bg-gray-100 text-gray-400 cursor-not-allowed\"\n                                    : \"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg\"\n                            }\n                        `}\n                    >\n                        {isProcessing ? (\n                            <>\n                                <div className=\"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin\" />\n                                <span>Processing...</span>\n                            </>\n                        ) : (\n                            <>\n                                <Play className=\"w-4 h-4\" />\n                                <span>Get AI Recommendation</span>\n                            </>\n                        )}\n                    </button>\n                </div>\n            </div>\n\n            {/* Navigation Tabs */}\n            <div className=\"border-b border-gray-200\">\n                <nav className=\"flex space-x-8\">\n                    {[\n                        { id: \"overview\", label: \"Overview\", icon: Activity },\n                        { id: \"agents\", label: \"AI Agent Flow\", icon: Zap },\n                        { id: \"output\", label: \"Agent Outputs\", icon: Target },\n                        { id: \"history\", label: \"History\", icon: Clock },\n                    ].map((tab) => (\n                        <button\n                            key={tab.id}\n                            onClick={() => setActiveTab(tab.id)}\n                            className={`\n                                py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center space-x-2\n                                ${\n                                    activeTab === tab.id\n                                        ? \"border-blue-500 text-blue-600\"\n                                        : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\n                                }\n                            `}\n                        >\n                            <tab.icon className=\"w-4 h-4\" />\n                            <span>{tab.label}</span>\n                        </button>\n                    ))}\n                </nav>\n            </div>\n\n            {/* Tab Content */}\n            <div className=\"space-y-6\">\n                {/* Overview Tab */}\n                {activeTab === \"overview\" && (\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        {/* Strategy Details */}\n                        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                                Strategy Details\n                            </h3>\n                            <div className=\"space-y-3\">\n                                <div className=\"flex justify-between\">\n                                    <span className=\"text-gray-600\">\n                                        Current Holding:\n                                    </span>\n                                    <span className=\"font-medium\">\n                                        {strategy.coin}\n                                    </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span className=\"text-gray-600\">\n                                        Amount:\n                                    </span>\n                                    <span className=\"font-medium\">\n                                        ${strategy.currentAmount}\n                                    </span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span className=\"text-gray-600\">\n                                        Created:\n                                    </span>\n                                    <span className=\"font-medium\">\n                                        {new Date(\n                                            strategy.createdAt\n                                        ).toLocaleDateString()}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* AI System Info */}\n                        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                                AI System Overview\n                            </h3>\n                            <div className=\"space-y-3\">\n                                <div className=\"flex items-start space-x-3\">\n                                    <div className=\"w-2 h-2 bg-blue-500 rounded-full mt-2\"></div>\n                                    <div>\n                                        <div className=\"font-medium\">\n                                            Analysis Agent\n                                        </div>\n                                        <div className=\"text-sm text-gray-600\">\n                                            Comprehensive market analysis and opportunity identification\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"flex items-start space-x-3\">\n                                    <div className=\"w-2 h-2 bg-green-500 rounded-full mt-2\"></div>\n                                    <div>\n                                        <div className=\"font-medium\">\n                                            Decision Agent\n                                        </div>\n                                        <div className=\"text-sm text-gray-600\">\n                                            Final investment decision and recommendation generation\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\n                                <div className=\"text-sm text-blue-700\">\n                                    <strong>Model:</strong> Llama-3.3-70B-Instruct\n                                    <br />\n                                    <strong>Data Source:</strong> AI Model Knowledge (No external APIs)\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Current Recommendation */}\n                        {finalRecommendation && (\n                            <div className=\"lg:col-span-2 bg-white rounded-lg shadow-sm border p-6\">\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                                    Latest AI Recommendation\n                                </h3>\n                                <div className=\"space-y-4\">\n                                    <div className=\"flex items-center space-x-3\">\n                                        <div\n                                            className={`\n                                                px-3 py-1 rounded-full text-sm font-medium\n                                                ${\n                                                    finalRecommendation.action === \"SWAP\"\n                                                        ? \"bg-orange-100 text-orange-700\"\n                                                        : \"bg-green-100 text-green-700\"\n                                                }\n                                            `}\n                                        >\n                                            {finalRecommendation.action}\n                                        </div>\n                                        <span className=\"text-gray-500 text-sm\">\n                                            {new Date(\n                                                finalRecommendation.timestamp\n                                            ).toLocaleString()}\n                                        </span>\n                                    </div>\n                                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                                        <div className=\"font-medium text-gray-900 mb-2\">\n                                            {finalRecommendation.fullRecommendation}\n                                        </div>\n                                        <p className=\"text-gray-700\">\n                                            {finalRecommendation.summary}\n                                        </p>\n                                    </div>\n                                    <div className=\"flex items-center justify-between text-sm text-gray-600\">\n                                        <span>\n                                            Execution time: {finalRecommendation.executionTime}ms\n                                        </span>\n                                        <span>\n                                            Agents used: {finalRecommendation.agentsUsed}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* AI Agent Flow Tab */}\n                {activeTab === \"agents\" && (\n                    <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">\n                            Simplified 2-Agent AI Workflow\n                        </h3>\n                        \n                        {error && (\n                            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                                <div className=\"flex items-center space-x-2\">\n                                    <AlertCircle className=\"w-5 h-5 text-red-500\" />\n                                    <span className=\"text-red-700 font-medium\">Error</span>\n                                </div>\n                                <p className=\"text-red-600 mt-1\">{error}</p>\n                            </div>\n                        )}\n\n                        <div className=\"space-y-6\">\n                            {processSteps.map((step, index) => (\n                                <div key={step.id} className=\"flex items-start space-x-4\">\n                                    <div className=\"flex-shrink-0\">\n                                        {getStepIcon(step.status)}\n                                    </div>\n                                    <div className=\"flex-grow\">\n                                        <div className={`font-medium ${getStepColor(step.status)}`}>\n                                            {step.name}\n                                        </div>\n                                        <div className=\"text-gray-600 text-sm mt-1\">\n                                            {step.description}\n                                        </div>\n                                        {step.timestamp && (\n                                            <div className=\"text-gray-500 text-xs mt-1\">\n                                                {step.status === \"processing\" ? \"Started\" : \"Completed\"} at:{\" \"}\n                                                {new Date(step.timestamp).toLocaleTimeString()}\n                                            </div>\n                                        )}\n                                    </div>\n                                    {index < processSteps.length - 1 && (\n                                        <div className=\"absolute left-7 mt-8 w-px h-6 bg-gray-300\"></div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n\n                        {isProcessing && (\n                            <div className=\"mt-6 flex items-center justify-center p-4 bg-blue-50 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n                                    <span className=\"text-blue-700 font-medium\">\n                                        AI workflow in progress...\n                                    </span>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Agent Outputs Tab */}\n                {activeTab === \"output\" && (\n                    <div className=\"space-y-6\">\n                        {agentOutputs.map((agent) => (\n                            <div key={agent.id} className=\"bg-white rounded-lg shadow-sm border\">\n                                <div className=\"p-4 border-b border-gray-200\">\n                                    <div className=\"flex items-center justify-between\">\n                                        <div className=\"flex items-center space-x-3\">\n                                            {getStepIcon(agent.status)}\n                                            <h3 className={`font-medium ${getStepColor(agent.status)}`}>\n                                                {agent.name}\n                                            </h3>\n                                        </div>\n                                        {agent.timestamp && (\n                                            <span className=\"text-sm text-gray-500\">\n                                                {new Date(agent.timestamp).toLocaleString()}\n                                            </span>\n                                        )}\n                                    </div>\n                                </div>\n                                <div className=\"p-4\">\n                                    {agent.output ? (\n                                        <pre className=\"whitespace-pre-wrap text-sm text-gray-700 font-mono\">\n                                            {agent.output}\n                                        </pre>\n                                    ) : (\n                                        <div className=\"text-gray-500 italic\">\n                                            No output yet. Run the AI workflow to see results.\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n\n                {/* History Tab */}\n                {activeTab === \"history\" && (\n                    <HistoryTab\n                        history={history}\n                        loading={historyLoading}\n                        hasMore={hasMoreHistory}\n                        onLoadMore={loadMoreHistory}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default StrategyDetailView;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACIC,SAAS,EACTC,IAAI,EACJC,KAAK,EACLC,WAAW,EACXC,WAAW,EACXC,KAAK,EACLC,UAAU,EACVC,UAAU,EACVC,QAAQ,EACRC,MAAM,EACNC,GAAG,QACA,cAAc;AACrB,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,UAAU,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7C,MAAMC,YAAY,GAAG,uBAAuB;AAE5C,MAAMC,kBAAkB,GAAGA,CAAC;EACxBC,QAAQ;EACRC,MAAM;EACNC,uBAAuB;EACvBC;AACJ,CAAC,KAAK;EAAAC,EAAA;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG1B,QAAQ,CAAC,UAAU,CAAC;EACtD,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC6B,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC+B,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACiC,cAAc,EAAEC,iBAAiB,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EAE1D,MAAM,CAACmC,YAAY,EAAEC,eAAe,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACqC,KAAK,EAAEC,QAAQ,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACuC,YAAY,EAAEC,eAAe,CAAC,GAAGxC,QAAQ,CAAC,CAC7C;IACIyC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,yCAAyC;IAC/CC,MAAM,EAAE,SAAS;IACjBC,WAAW,EACP,6EAA6E;IACjFC,SAAS,EAAE;EACf,CAAC,EACD;IACIJ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,yCAAyC;IAC/CC,MAAM,EAAE,SAAS;IACjBC,WAAW,EAAE,yDAAyD;IACtEC,SAAS,EAAE;EACf,CAAC,CACJ,CAAC;EAEF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG/C,QAAQ,CAAC,CAC7C;IACIyC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,yCAAyC;IAC/CC,MAAM,EAAE,SAAS;IACjBK,MAAM,EAAE,EAAE;IACVH,SAAS,EAAE;EACf,CAAC,EACD;IACIJ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,yCAAyC;IAC/CC,MAAM,EAAE,SAAS;IACjBK,MAAM,EAAE,EAAE;IACVH,SAAS,EAAE;EACf,CAAC,CACJ,CAAC;EAEF,MAAM,CAACI,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGlD,QAAQ,CAAC,IAAI,CAAC;;EAEpE;EACA,MAAMmD,WAAW,GAAG,MAAAA,CAAOC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,KAAK,KAAK;IACnD,IAAI;MACAvB,iBAAiB,CAAC,IAAI,CAAC;MACvB,MAAMwB,QAAQ,GAAG,MAAMzC,UAAU,CAAC0C,kBAAkB,CAChDnC,QAAQ,CAACoC,GAAG,IAAIpC,QAAQ,CAACqB,EAAE,EAC3BW,IAAI,EACJ,EAAE,CAAC;MACP,CAAC;MAED,IAAIE,QAAQ,CAACG,OAAO,EAAE;QAClB,IAAIJ,KAAK,EAAE;UACPzB,UAAU,CAAC0B,QAAQ,CAACI,IAAI,CAAC;QAC7B,CAAC,MAAM;UACH9B,UAAU,CAAE+B,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE,GAAGL,QAAQ,CAACI,IAAI,CAAC,CAAC;QACrD;QAEAxB,iBAAiB,CACboB,QAAQ,CAACM,UAAU,CAACC,WAAW,GAC3BP,QAAQ,CAACM,UAAU,CAACE,UAC5B,CAAC;QACD9B,cAAc,CAACoB,IAAI,CAAC;MACxB;IACJ,CAAC,CAAC,OAAOf,KAAK,EAAE;MACZ0B,OAAO,CAAC1B,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD,CAAC,SAAS;MACNP,iBAAiB,CAAC,KAAK,CAAC;IAC5B;EACJ,CAAC;;EAED;EACA,MAAMkC,eAAe,GAAGA,CAAA,KAAM;IAC1B,IAAI,CAACnC,cAAc,IAAII,cAAc,EAAE;MACnCkB,WAAW,CAACpB,WAAW,GAAG,CAAC,EAAE,KAAK,CAAC;IACvC;EACJ,CAAC;;EAED;EACAhC,KAAK,CAACkE,SAAS,CAAC,MAAM;IAClB,IAAIxC,SAAS,KAAK,SAAS,IAAIE,OAAO,CAACuC,MAAM,KAAK,CAAC,EAAE;MACjDf,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC;IACxB;EACJ,CAAC,EAAE,CAAC1B,SAAS,CAAC,CAAC;EAEf,MAAM0C,2BAA2B,GAAG,MAAAA,CAAA,KAAY;IAC5C/B,eAAe,CAAC,IAAI,CAAC;IACrBc,sBAAsB,CAAC,IAAI,CAAC;IAC5BZ,QAAQ,CAAC,IAAI,CAAC;;IAEd;IACAE,eAAe,CAAEmB,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAEC,IAAI,KAAM;MAChB,GAAGA,IAAI;MACP1B,MAAM,EAAE;IACZ,CAAC,CAAC,CACN,CAAC;IAEDI,eAAe,CAAEY,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAEE,KAAK,KAAM;MACjB,GAAGA,KAAK;MACR3B,MAAM,EAAE,SAAS;MACjBK,MAAM,EAAE,EAAE;MACVH,SAAS,EAAE;IACf,CAAC,CAAC,CACN,CAAC;IAED,IAAI;MACA;MACA,MAAM0B,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,WAAW,GAAG,IAAIC,WAAW,CAC/B,GAAGzD,YAAY,2BACXE,QAAQ,CAACoC,GAAG,IAAIpC,QAAQ,CAACqB,EAAE,yBACNmC,kBAAkB,CAACL,KAAK,CAAC,EACtD,CAAC;MAEDG,WAAW,CAACG,SAAS,GAAIC,KAAK,IAAK;QAC/B,MAAMpB,IAAI,GAAGqB,IAAI,CAACC,KAAK,CAACF,KAAK,CAACpB,IAAI,CAAC;QAEnC,QAAQA,IAAI,CAACuB,IAAI;UACb,KAAK,MAAM;YACPlB,OAAO,CAACmB,GAAG,CAAC,uBAAuB,EAAExB,IAAI,CAACyB,OAAO,CAAC;YAClD;UAEJ,KAAK,gBAAgB;YACjBpB,OAAO,CAACmB,GAAG,CAAC,oBAAoB,EAAExB,IAAI,CAACyB,OAAO,CAAC;YAC/C;UAEJ,KAAK,YAAY;YACbpB,OAAO,CAACmB,GAAG,CAAC,QAAQxB,IAAI,CAACW,IAAI,cAAcX,IAAI,CAACyB,OAAO,EAAE,CAAC;YAC1D;YACA3C,eAAe,CAAEmB,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAC,CAACC,IAAI,EAAEe,KAAK,KAAK;cACtB,IAAIA,KAAK,GAAG,CAAC,KAAK1B,IAAI,CAACW,IAAI,EAAE;gBACzB,OAAO;kBACH,GAAGA,IAAI;kBACP1B,MAAM,EAAE,YAAY;kBACpBE,SAAS,EAAEa,IAAI,CAACb;gBACpB,CAAC;cACL;cACA,OAAOwB,IAAI;YACf,CAAC,CACL,CAAC;YAEDtB,eAAe,CAAEY,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAC,CAACE,KAAK,EAAEc,KAAK,KAAK;cACvB,IAAIA,KAAK,GAAG,CAAC,KAAK1B,IAAI,CAACW,IAAI,EAAE;gBACzB,OAAO;kBACH,GAAGC,KAAK;kBACR3B,MAAM,EAAE,YAAY;kBACpBK,MAAM,EAAE,MAAMU,IAAI,CAACyB,OAAO,mBAAmB,IAAIE,IAAI,CAAC3B,IAAI,CAACb,SAAS,CAAC,CAACyC,kBAAkB,CAAC,CAAC,EAAE;kBAC5FzC,SAAS,EAAEa,IAAI,CAACb;gBACpB,CAAC;cACL;cACA,OAAOyB,KAAK;YAChB,CAAC,CACL,CAAC;YACD;UAEJ,KAAK,eAAe;YAChBP,OAAO,CAACmB,GAAG,CAAC,QAAQxB,IAAI,CAACW,IAAI,eAAeX,IAAI,CAACyB,OAAO,EAAE,CAAC;YAC3D;YACA3C,eAAe,CAAEmB,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAC,CAACC,IAAI,EAAEe,KAAK,KAAK;cACtB,IAAIA,KAAK,GAAG,CAAC,KAAK1B,IAAI,CAACW,IAAI,EAAE;gBACzB,OAAO;kBACH,GAAGA,IAAI;kBACP1B,MAAM,EAAE,WAAW;kBACnBE,SAAS,EAAEa,IAAI,CAACb;gBACpB,CAAC;cACL;cACA,OAAOwB,IAAI;YACf,CAAC,CACL,CAAC;YAEDtB,eAAe,CAAEY,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAC,CAACE,KAAK,EAAEc,KAAK,KAAK;cACvB,IAAIA,KAAK,GAAG,CAAC,KAAK1B,IAAI,CAACW,IAAI,EAAE;gBACzB;gBACA,IAAIkB,cAAc,GAAG,KAAK7B,IAAI,CAACyB,OAAO,uBAAuBzB,IAAI,CAAC8B,QAAQ,qBAAqB,IAAIH,IAAI,CAAC3B,IAAI,CAACb,SAAS,CAAC,CAACyC,kBAAkB,CAAC,CAAC,EAAE;gBAE9I,IAAI5B,IAAI,CAACW,IAAI,KAAK,CAAC,EAAE;kBACjBkB,cAAc,IAAI;AAC1D;AACA;AACA;AACA;AACA,wCAAwC;gBACJ,CAAC,MAAM,IAAI7B,IAAI,CAACW,IAAI,KAAK,CAAC,EAAE;kBACxBkB,cAAc,IAAI;AAC1D;AACA;AACA;AACA,kCAAkC;gBACE;gBAEA,OAAO;kBACH,GAAGjB,KAAK;kBACR3B,MAAM,EAAE,WAAW;kBACnBK,MAAM,EAAEuC,cAAc;kBACtB1C,SAAS,EAAEa,IAAI,CAACb;gBACpB,CAAC;cACL;cACA,OAAOyB,KAAK;YAChB,CAAC,CACL,CAAC;YACD;UAEJ,KAAK,mBAAmB;YACpBP,OAAO,CAACmB,GAAG,CAAC,qBAAqB,EAAExB,IAAI,CAAC;YACxC;YACA,MAAM+B,QAAQ,GAAG/B,IAAI,CAACgC,cAAc;;YAEpC;YACAxC,sBAAsB,CAAC;cACnByC,MAAM,EAAEF,QAAQ,CAACC,cAAc,CAC1BE,WAAW,CAAC,CAAC,CACbC,QAAQ,CAAC,YAAY,CAAC,GACrB,MAAM,GACNJ,QAAQ,CAACC,cAAc,CAClBE,WAAW,CAAC,CAAC,CACbC,QAAQ,CAAC,MAAM,CAAC,GACrB,MAAM,GACN,MAAM;cACZC,UAAU,EAAE,IAAI;cAAE;cAClBC,OAAO,EAAEN,QAAQ,CAACO,WAAW;cAC7BnD,SAAS,EAAEa,IAAI,CAACb,SAAS;cACzBoD,aAAa,EAAEvC,IAAI,CAACwC,SAAS;cAC7BC,UAAU,EAAE,CAAC;cAAE;cACfC,kBAAkB,EAAEX,QAAQ,CAACC;YACjC,CAAC,CAAC;;YAEF;YACA3C,eAAe,CAAEY,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAC,CAACE,KAAK,EAAEc,KAAK,KAAK;cACvB,IAAIA,KAAK,KAAK,CAAC,EAAE;gBAAE;gBACf,OAAO;kBACH,GAAGd,KAAK;kBACR3B,MAAM,EAAE,WAAW;kBACnBK,MAAM,EAAE;AAChD;AACA,2BAA2ByC,QAAQ,CAACC,cAAc;AAClD;AACA;AACA,EAAED,QAAQ,CAACO,WAAW;AACtB;AACA,iCAAiCtC,IAAI,CAACwC,SAAS;AAC/C;gBACoC,CAAC;cACL;cACA,OAAO5B,KAAK;YAChB,CAAC,CACL,CAAC;YAED/C,eAAe,CACX,oCAAoCH,QAAQ,CAACsB,IAAI,EAAE,EACnD,SACJ,CAAC;YACDN,eAAe,CAAC,KAAK,CAAC;YACtBsC,WAAW,CAAC2B,KAAK,CAAC,CAAC;YACnB;UAEJ,KAAK,gBAAgB;YACjBtC,OAAO,CAAC1B,KAAK,CAAC,iBAAiB,EAAEqB,IAAI,CAAC;YACtCpB,QAAQ,CAACoB,IAAI,CAACyB,OAAO,CAAC;;YAEtB;YACA3C,eAAe,CAAEmB,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAEC,IAAI,KAAM;cAChB,GAAGA,IAAI;cACP1B,MAAM,EACF0B,IAAI,CAAC1B,MAAM,KAAK,YAAY,GACtB,OAAO,GACP0B,IAAI,CAAC1B;YACnB,CAAC,CAAC,CACN,CAAC;YAEDI,eAAe,CAAEY,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAEE,KAAK,KAAM;cACjB,GAAGA,KAAK;cACR3B,MAAM,EACF2B,KAAK,CAAC3B,MAAM,KAAK,YAAY,GACvB,OAAO,GACP2B,KAAK,CAAC3B,MAAM;cACtBK,MAAM,EACFsB,KAAK,CAAC3B,MAAM,KAAK,YAAY,GACvB,kBAAkBe,IAAI,CAACyB,OAAO;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,GACzDb,KAAK,CAACtB;YACpB,CAAC,CAAC,CACN,CAAC;YAEDzB,eAAe,CACX,iCAAiC,EACjC,OACJ,CAAC;YAEDa,eAAe,CAAC,KAAK,CAAC;YACtBsC,WAAW,CAAC2B,KAAK,CAAC,CAAC;YACnB;UAEJ;YACItC,OAAO,CAACmB,GAAG,CAAC,qBAAqB,EAAExB,IAAI,CAACuB,IAAI,CAAC;YAC7C;QACR;MACJ,CAAC;MAEDP,WAAW,CAAC4B,OAAO,GAAIjE,KAAK,IAAK;QAC7B0B,OAAO,CAAC1B,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;QAC1CqC,WAAW,CAAC2B,KAAK,CAAC,CAAC;QACnBjE,eAAe,CAAC,KAAK,CAAC;QACtBE,QAAQ,CAAC,8CAA8C,CAAC;;QAExD;QACAE,eAAe,CAAEmB,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAEC,IAAI,KAAM;UAChB,GAAGA,IAAI;UACP1B,MAAM,EACF0B,IAAI,CAAC1B,MAAM,KAAK,YAAY,GACtB,oBAAoB,GACpB0B,IAAI,CAAC1B;QACnB,CAAC,CAAC,CACN,CAAC;QAEDI,eAAe,CAAEY,IAAI,IACjBA,IAAI,CAACS,GAAG,CAAEE,KAAK,KAAM;UACjB,GAAGA,KAAK;UACR3B,MAAM,EACF2B,KAAK,CAAC3B,MAAM,KAAK,YAAY,GACvB,oBAAoB,GACpB2B,KAAK,CAAC3B,MAAM;UACtBK,MAAM,EACFsB,KAAK,CAAC3B,MAAM,KAAK,YAAY,GACvB,sCAAsC,GACtC2B,KAAK,CAACtB;QACpB,CAAC,CAAC,CACN,CAAC;MACL,CAAC;IACL,CAAC,CAAC,OAAOX,KAAK,EAAE;MACZ0B,OAAO,CAAC1B,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAC9DC,QAAQ,CAAC,iCAAiC,CAAC;MAC3CF,eAAe,CAAC,KAAK,CAAC;IAC1B;;IAEA;IACA,IAAId,uBAAuB,EAAE;MACzBA,uBAAuB,CAACF,QAAQ,CAAC;IACrC;EACJ,CAAC;;EAED;EACA;;EAEA,MAAMmF,WAAW,GAAI5D,MAAM,IAAK;IAC5B,QAAQA,MAAM;MACV,KAAK,SAAS;QACV,oBAAO5B,OAAA,CAACZ,KAAK;UAACqG,SAAS,EAAC;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACtD,KAAK,YAAY;QACb,oBACI7F,OAAA;UAAKyF,SAAS,EAAC;QAAiF;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAE3G,KAAK,WAAW;QACZ,oBAAO7F,OAAA,CAACX,WAAW;UAACoG,SAAS,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC7D,KAAK,OAAO;MACZ,KAAK,oBAAoB;QACrB,oBAAO7F,OAAA,CAACV,WAAW;UAACmG,SAAS,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC3D;QACI,oBAAO7F,OAAA,CAACZ,KAAK;UAACqG,SAAS,EAAC;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IAC1D;EACJ,CAAC;EAED,MAAMC,YAAY,GAAIlE,MAAM,IAAK;IAC7B,QAAQA,MAAM;MACV,KAAK,SAAS;QACV,OAAO,eAAe;MAC1B,KAAK,YAAY;QACb,OAAO,eAAe;MAC1B,KAAK,WAAW;QACZ,OAAO,gBAAgB;MAC3B,KAAK,OAAO;MACZ,KAAK,oBAAoB;QACrB,OAAO,cAAc;MACzB;QACI,OAAO,eAAe;IAC9B;EACJ,CAAC;EAED,oBACI5B,OAAA;IAAKyF,SAAS,EAAC,WAAW;IAAAM,QAAA,gBAEtB/F,OAAA;MAAKyF,SAAS,EAAC,mCAAmC;MAAAM,QAAA,gBAC9C/F,OAAA;QAAKyF,SAAS,EAAC,6BAA6B;QAAAM,QAAA,eACxC/F,OAAA;UACIgG,OAAO,EAAE1F,MAAO;UAChBmF,SAAS,EAAC,iFAAiF;UAAAM,QAAA,gBAE3F/F,OAAA,CAACd,SAAS;YAACuG,SAAS,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjC7F,OAAA;YAAA+F,QAAA,EAAM;UAAiB;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eACN7F,OAAA;QAAKyF,SAAS,EAAC,6BAA6B;QAAAM,QAAA,eACxC/F,OAAA;UAAKyF,SAAS,EAAC,mDAAmD;UAAAM,QAAA,gBAC9D/F,OAAA,CAACL,MAAM;YAAC8F,SAAS,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC9B7F,OAAA;YAAA+F,QAAA,EAAM;UAAiB;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGN7F,OAAA;MAAKyF,SAAS,EAAC,0CAA0C;MAAAM,QAAA,eACrD/F,OAAA;QAAKyF,SAAS,EAAC,kCAAkC;QAAAM,QAAA,gBAC7C/F,OAAA;UAAA+F,QAAA,gBACI/F,OAAA;YAAIyF,SAAS,EAAC,uCAAuC;YAAAM,QAAA,EAChD1F,QAAQ,CAAC4F,KAAK,IAAI5F,QAAQ,CAACsB;UAAI;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,eACL7F,OAAA;YAAGyF,SAAS,EAAC,oBAAoB;YAAAM,QAAA,EAC5B1F,QAAQ,CAACwB;UAAW;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC,eACJ7F,OAAA;YAAKyF,SAAS,EAAC,qCAAqC;YAAAM,QAAA,gBAChD/F,OAAA;cAAKyF,SAAS,EAAC,6BAA6B;cAAAM,QAAA,gBACxC/F,OAAA,CAACT,KAAK;gBAACkG,SAAS,EAAC;cAAuB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC3C7F,OAAA;gBAAMyF,SAAS,EAAC,aAAa;gBAAAM,QAAA,EACxB1F,QAAQ,CAAC6F;cAAI;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACZ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,6BAA6B;cAAAM,QAAA,gBACxC/F,OAAA,CAACP,UAAU;gBAACgG,SAAS,EAAC;cAAwB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACjD7F,OAAA;gBAAMyF,SAAS,EAAC,aAAa;gBAAAM,QAAA,GAAC,GACzB,EAAC1F,QAAQ,CAAC8F,aAAa;cAAA;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACN7F,OAAA;UACIgG,OAAO,EAAE5C,2BAA4B;UACrCgD,QAAQ,EAAEhF,YAAa;UACvBqE,SAAS,EAAE;AACnC;AACA,8BACgCrE,YAAY,GACN,8CAA8C,GAC9C,0DAA0D;AAChG,yBAC0B;UAAA2E,QAAA,EAED3E,YAAY,gBACTpB,OAAA,CAAAE,SAAA;YAAA6F,QAAA,gBACI/F,OAAA;cAAKyF,SAAS,EAAC;YAAiF;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACnG7F,OAAA;cAAA+F,QAAA,EAAM;YAAa;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,eAC5B,CAAC,gBAEH7F,OAAA,CAAAE,SAAA;YAAA6F,QAAA,gBACI/F,OAAA,CAACb,IAAI;cAACsG,SAAS,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC5B7F,OAAA;cAAA+F,QAAA,EAAM;YAAqB;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,eACpC;QACL;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGN7F,OAAA;MAAKyF,SAAS,EAAC,0BAA0B;MAAAM,QAAA,eACrC/F,OAAA;QAAKyF,SAAS,EAAC,gBAAgB;QAAAM,QAAA,EAC1B,CACG;UAAErE,EAAE,EAAE,UAAU;UAAE2E,KAAK,EAAE,UAAU;UAAEC,IAAI,EAAE5G;QAAS,CAAC,EACrD;UAAEgC,EAAE,EAAE,QAAQ;UAAE2E,KAAK,EAAE,eAAe;UAAEC,IAAI,EAAE1G;QAAI,CAAC,EACnD;UAAE8B,EAAE,EAAE,QAAQ;UAAE2E,KAAK,EAAE,eAAe;UAAEC,IAAI,EAAE3G;QAAO,CAAC,EACtD;UAAE+B,EAAE,EAAE,SAAS;UAAE2E,KAAK,EAAE,SAAS;UAAEC,IAAI,EAAElH;QAAM,CAAC,CACnD,CAACiE,GAAG,CAAEkD,GAAG,iBACNvG,OAAA;UAEIgG,OAAO,EAAEA,CAAA,KAAMrF,YAAY,CAAC4F,GAAG,CAAC7E,EAAE,CAAE;UACpC+D,SAAS,EAAE;AACvC;AACA,kCACoC/E,SAAS,KAAK6F,GAAG,CAAC7E,EAAE,GACd,+BAA+B,GAC/B,4EAA4E;AACtH,6BAC8B;UAAAqE,QAAA,gBAEF/F,OAAA,CAACuG,GAAG,CAACD,IAAI;YAACb,SAAS,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChC7F,OAAA;YAAA+F,QAAA,EAAOQ,GAAG,CAACF;UAAK;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA,GAZnBU,GAAG,CAAC7E,EAAE;UAAAgE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAaP,CACX;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGN7F,OAAA;MAAKyF,SAAS,EAAC,WAAW;MAAAM,QAAA,GAErBrF,SAAS,KAAK,UAAU,iBACrBV,OAAA;QAAKyF,SAAS,EAAC,uCAAuC;QAAAM,QAAA,gBAElD/F,OAAA;UAAKyF,SAAS,EAAC,0CAA0C;UAAAM,QAAA,gBACrD/F,OAAA;YAAIyF,SAAS,EAAC,0CAA0C;YAAAM,QAAA,EAAC;UAEzD;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL7F,OAAA;YAAKyF,SAAS,EAAC,WAAW;YAAAM,QAAA,gBACtB/F,OAAA;cAAKyF,SAAS,EAAC,sBAAsB;cAAAM,QAAA,gBACjC/F,OAAA;gBAAMyF,SAAS,EAAC,eAAe;gBAAAM,QAAA,EAAC;cAEhC;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACP7F,OAAA;gBAAMyF,SAAS,EAAC,aAAa;gBAAAM,QAAA,EACxB1F,QAAQ,CAAC6F;cAAI;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACZ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,sBAAsB;cAAAM,QAAA,gBACjC/F,OAAA;gBAAMyF,SAAS,EAAC,eAAe;gBAAAM,QAAA,EAAC;cAEhC;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACP7F,OAAA;gBAAMyF,SAAS,EAAC,aAAa;gBAAAM,QAAA,GAAC,GACzB,EAAC1F,QAAQ,CAAC8F,aAAa;cAAA;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,sBAAsB;cAAAM,QAAA,gBACjC/F,OAAA;gBAAMyF,SAAS,EAAC,eAAe;gBAAAM,QAAA,EAAC;cAEhC;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACP7F,OAAA;gBAAMyF,SAAS,EAAC,aAAa;gBAAAM,QAAA,EACxB,IAAIzB,IAAI,CACLjE,QAAQ,CAACmG,SACb,CAAC,CAACC,kBAAkB,CAAC;cAAC;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGN7F,OAAA;UAAKyF,SAAS,EAAC,0CAA0C;UAAAM,QAAA,gBACrD/F,OAAA;YAAIyF,SAAS,EAAC,0CAA0C;YAAAM,QAAA,EAAC;UAEzD;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL7F,OAAA;YAAKyF,SAAS,EAAC,WAAW;YAAAM,QAAA,gBACtB/F,OAAA;cAAKyF,SAAS,EAAC,4BAA4B;cAAAM,QAAA,gBACvC/F,OAAA;gBAAKyF,SAAS,EAAC;cAAuC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC7D7F,OAAA;gBAAA+F,QAAA,gBACI/F,OAAA;kBAAKyF,SAAS,EAAC,aAAa;kBAAAM,QAAA,EAAC;gBAE7B;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN7F,OAAA;kBAAKyF,SAAS,EAAC,uBAAuB;kBAAAM,QAAA,EAAC;gBAEvC;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,4BAA4B;cAAAM,QAAA,gBACvC/F,OAAA;gBAAKyF,SAAS,EAAC;cAAwC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC9D7F,OAAA;gBAAA+F,QAAA,gBACI/F,OAAA;kBAAKyF,SAAS,EAAC,aAAa;kBAAAM,QAAA,EAAC;gBAE7B;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN7F,OAAA;kBAAKyF,SAAS,EAAC,uBAAuB;kBAAAM,QAAA,EAAC;gBAEvC;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACN7F,OAAA;YAAKyF,SAAS,EAAC,gCAAgC;YAAAM,QAAA,eAC3C/F,OAAA;cAAKyF,SAAS,EAAC,uBAAuB;cAAAM,QAAA,gBAClC/F,OAAA;gBAAA+F,QAAA,EAAQ;cAAM;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,2BACvB,eAAA7F,OAAA;gBAAA0F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACN7F,OAAA;gBAAA+F,QAAA,EAAQ;cAAY;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,0CACjC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,EAGL3D,mBAAmB,iBAChBlC,OAAA;UAAKyF,SAAS,EAAC,wDAAwD;UAAAM,QAAA,gBACnE/F,OAAA;YAAIyF,SAAS,EAAC,0CAA0C;YAAAM,QAAA,EAAC;UAEzD;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL7F,OAAA;YAAKyF,SAAS,EAAC,WAAW;YAAAM,QAAA,gBACtB/F,OAAA;cAAKyF,SAAS,EAAC,6BAA6B;cAAAM,QAAA,gBACxC/F,OAAA;gBACIyF,SAAS,EAAE;AACvD;AACA,kDACoDvD,mBAAmB,CAAC0C,MAAM,KAAK,MAAM,GAC/B,+BAA+B,GAC/B,6BAA6B;AACvF,6CAC8C;gBAAAmB,QAAA,EAED7D,mBAAmB,CAAC0C;cAAM;gBAAAc,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC,eACN7F,OAAA;gBAAMyF,SAAS,EAAC,uBAAuB;gBAAAM,QAAA,EAClC,IAAIzB,IAAI,CACLpC,mBAAmB,CAACJ,SACxB,CAAC,CAAC4E,cAAc,CAAC;cAAC;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,2BAA2B;cAAAM,QAAA,gBACtC/F,OAAA;gBAAKyF,SAAS,EAAC,gCAAgC;gBAAAM,QAAA,EAC1C7D,mBAAmB,CAACmD;cAAkB;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC,eACN7F,OAAA;gBAAGyF,SAAS,EAAC,eAAe;gBAAAM,QAAA,EACvB7D,mBAAmB,CAAC8C;cAAO;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,yDAAyD;cAAAM,QAAA,gBACpE/F,OAAA;gBAAA+F,QAAA,GAAM,kBACc,EAAC7D,mBAAmB,CAACgD,aAAa,EAAC,IACvD;cAAA;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACP7F,OAAA;gBAAA+F,QAAA,GAAM,eACW,EAAC7D,mBAAmB,CAACkD,UAAU;cAAA;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CACR,EAGAnF,SAAS,KAAK,QAAQ,iBACnBV,OAAA;QAAKyF,SAAS,EAAC,0CAA0C;QAAAM,QAAA,gBACrD/F,OAAA;UAAIyF,SAAS,EAAC,0CAA0C;UAAAM,QAAA,EAAC;QAEzD;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEJvE,KAAK,iBACFtB,OAAA;UAAKyF,SAAS,EAAC,qDAAqD;UAAAM,QAAA,gBAChE/F,OAAA;YAAKyF,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBACxC/F,OAAA,CAACV,WAAW;cAACmG,SAAS,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAChD7F,OAAA;cAAMyF,SAAS,EAAC,0BAA0B;cAAAM,QAAA,EAAC;YAAK;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC,eACN7F,OAAA;YAAGyF,SAAS,EAAC,mBAAmB;YAAAM,QAAA,EAAEzE;UAAK;YAAAoE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CACR,eAED7F,OAAA;UAAKyF,SAAS,EAAC,WAAW;UAAAM,QAAA,EACrBvE,YAAY,CAAC6B,GAAG,CAAC,CAACC,IAAI,EAAEe,KAAK,kBAC1BrE,OAAA;YAAmByF,SAAS,EAAC,4BAA4B;YAAAM,QAAA,gBACrD/F,OAAA;cAAKyF,SAAS,EAAC,eAAe;cAAAM,QAAA,EACzBP,WAAW,CAAClC,IAAI,CAAC1B,MAAM;YAAC;cAAA8D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CAAC,eACN7F,OAAA;cAAKyF,SAAS,EAAC,WAAW;cAAAM,QAAA,gBACtB/F,OAAA;gBAAKyF,SAAS,EAAE,eAAeK,YAAY,CAACxC,IAAI,CAAC1B,MAAM,CAAC,EAAG;gBAAAmE,QAAA,EACtDzC,IAAI,CAAC3B;cAAI;gBAAA+D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eACN7F,OAAA;gBAAKyF,SAAS,EAAC,4BAA4B;gBAAAM,QAAA,EACtCzC,IAAI,CAACzB;cAAW;gBAAA6D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CAAC,EACLvC,IAAI,CAACxB,SAAS,iBACX9B,OAAA;gBAAKyF,SAAS,EAAC,4BAA4B;gBAAAM,QAAA,GACtCzC,IAAI,CAAC1B,MAAM,KAAK,YAAY,GAAG,SAAS,GAAG,WAAW,EAAC,MAAI,EAAC,GAAG,EAC/D,IAAI0C,IAAI,CAAChB,IAAI,CAACxB,SAAS,CAAC,CAACyC,kBAAkB,CAAC,CAAC;cAAA;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C,CACR;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,EACLxB,KAAK,GAAG7C,YAAY,CAAC2B,MAAM,GAAG,CAAC,iBAC5BnD,OAAA;cAAKyF,SAAS,EAAC;YAA2C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACnE;UAAA,GApBKvC,IAAI,CAAC5B,EAAE;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqBZ,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,EAELzE,YAAY,iBACTpB,OAAA;UAAKyF,SAAS,EAAC,iEAAiE;UAAAM,QAAA,eAC5E/F,OAAA;YAAKyF,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBACxC/F,OAAA;cAAKyF,SAAS,EAAC;YAAiF;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACvG7F,OAAA;cAAMyF,SAAS,EAAC,2BAA2B;cAAAM,QAAA,EAAC;YAE5C;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CACR,EAGAnF,SAAS,KAAK,QAAQ,iBACnBV,OAAA;QAAKyF,SAAS,EAAC,WAAW;QAAAM,QAAA,EACrBhE,YAAY,CAACsB,GAAG,CAAEE,KAAK,iBACpBvD,OAAA;UAAoByF,SAAS,EAAC,sCAAsC;UAAAM,QAAA,gBAChE/F,OAAA;YAAKyF,SAAS,EAAC,8BAA8B;YAAAM,QAAA,eACzC/F,OAAA;cAAKyF,SAAS,EAAC,mCAAmC;cAAAM,QAAA,gBAC9C/F,OAAA;gBAAKyF,SAAS,EAAC,6BAA6B;gBAAAM,QAAA,GACvCP,WAAW,CAACjC,KAAK,CAAC3B,MAAM,CAAC,eAC1B5B,OAAA;kBAAIyF,SAAS,EAAE,eAAeK,YAAY,CAACvC,KAAK,CAAC3B,MAAM,CAAC,EAAG;kBAAAmE,QAAA,EACtDxC,KAAK,CAAC5B;gBAAI;kBAAA+D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACX,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,EACLtC,KAAK,CAACzB,SAAS,iBACZ9B,OAAA;gBAAMyF,SAAS,EAAC,uBAAuB;gBAAAM,QAAA,EAClC,IAAIzB,IAAI,CAACf,KAAK,CAACzB,SAAS,CAAC,CAAC4E,cAAc,CAAC;cAAC;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzC,CACT;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACN7F,OAAA;YAAKyF,SAAS,EAAC,KAAK;YAAAM,QAAA,EACfxC,KAAK,CAACtB,MAAM,gBACTjC,OAAA;cAAKyF,SAAS,EAAC,qDAAqD;cAAAM,QAAA,EAC/DxC,KAAK,CAACtB;YAAM;cAAAyD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC,gBAEN7F,OAAA;cAAKyF,SAAS,EAAC,sBAAsB;cAAAM,QAAA,EAAC;YAEtC;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UACR;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA,GA1BAtC,KAAK,CAAC7B,EAAE;UAAAgE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA2Bb,CACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CACR,EAGAnF,SAAS,KAAK,SAAS,iBACpBV,OAAA,CAACH,UAAU;QACPe,OAAO,EAAEA,OAAQ;QACjB+F,OAAO,EAAE7F,cAAe;QACxB8F,OAAO,EAAE1F,cAAe;QACxB2F,UAAU,EAAE5D;MAAgB;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CACJ;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACpF,EAAA,CAhuBIL,kBAAkB;AAAA0G,EAAA,GAAlB1G,kBAAkB;AAkuBxB,eAAeA,kBAAkB;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}